{% extends 'base.html' %}
{% load widget_tweaks %}

{% block content %}

<section class="contact section-padding" id="section_7">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-12 mx-auto">
                <form class="custom-form contact-form bg-white shadow-lg" method="post" role="form" enctype="multipart/form-data">
                    {% csrf_token %}
                    <h2>Members Login</h2>
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-12">
                            {% render_field form.username class="form-control" placeholder="Email" %}
                            {% if form.username.errors %}
                                <div class="error">
                                    {{ form.username.errors }}
                                </div>
                            {% endif %}
                        </div>
                        <div class="col-lg-12 col-md-12 col-12">  
                            <div class="position-relative">
                                {% render_field form.password class="form-control" placeholder="Password" id="password" %}
                                <button class="btn no-effect position-absolute" type="button" id="toggle-password" onclick="togglePassword('password', 'toggle-password-icon')">
                                    <i class="fa fa-eye" id="toggle-password-icon"></i>
                                </button>
                            </div>
                            {% if form.password.errors %}
                                <div class="error">
                                    {{ form.password.errors }}
                                </div>
                            {% endif %}
                            {% if form.non_field_errors %}
                                <div class="error">
                                    {{ form.non_field_errors }}
                                </div>
                            {% endif %}
                        </div>
                        <div class="col-12">
                            <button type="submit" class="form-control">Login</button>
                        </div>
                        <div class="col-12 d-flex justify-content-between mt-4">
                            <p>Don't have an account? 
                                <a class="special-link" href="{% url 'members:register' %}">Register</a>
                            </p>
                            <p>Forgot password? <a class="special-link" href="{% url 'members:password_reset' %}">Reset Password</a></p>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

{% endblock content %}